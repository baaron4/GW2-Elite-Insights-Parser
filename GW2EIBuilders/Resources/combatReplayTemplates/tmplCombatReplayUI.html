<template>
    <div class="d-flex mt-2 justify-content-center">
        <div class="d-flex flex-column align-items-center mr-2" style="margin-left: auto; width:620px;">
            <combat-replay-damage-data-component :time="animationStatus.time" :selectedplayerid="animationStatus.selectedActorID">
            </combat-replay-damage-data-component>
            <combat-replay-extra-decorations-component :light="light"></combat-replay-extra-decorations-component>
        </div>
        <combat-replay-animation-control-component :encounters="reactiveLogdata.encounters":light="light" :range="animationStatus.range":animated="animationStatus.animated">        
        </combat-replay-animation-control-component>
        <div class="d-flex flex-column align-items-center ml-2" style="margin-right: auto;width:500px;">
            <combat-replay-status-data-component :time="animationStatus.time" :selectedactorid="animationStatus.selectedActorID">
            </combat-replay-status-data-component>
        </div>
    </div>
</template>

<script>
    Vue.component("combat-replay-ui-component", {
        props: ["mode", "light"],
        template: `${template}`,
        data: function () {
            return {
                animationStatus: reactiveAnimationData,
                selectionMode: 0,
                targetless: logData.targetless,
                reactiveLogdata: reactiveLogdata,
            };
        },
        created() {
            animator = new Animator(crData);
        },
        activated() {
            if (this.animationStatus.animated && animator != null) {
                animator.startAnimate(false);
            }
        },
        deactivated() {
            if (this.animationStatus.animated && animator != null) {
                animator.stopAnimate(false);
            }
        },
    });
</script>
